<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>teleop</title>
		<link rel="stylesheet" type="text/css" href="../static/CSS/style.css" />
		<script src="../static/external/jquery-3.4.1.min.js"></script>
		<link rel="shortcut icon" href="#" />
	</head>
	<body>
		<!-- Top Layer: Logo and Hamburger Menu -->
		<div id="header_bar">
			<a title="navigate to user menu page" href="/user_menu">
				<div class="hamburger_menu">
					<div class="bar"></div>
					<div class="bar"></div>
					<div class="bar"></div>
				</div>
			</a>
			<img src="../static/assets/VR - Logo 144 px.png" class="center_logo" />
		</div>

		<!-- Second Layer: Advanced View -->
		<div class="normal_controller_advanced_view" id="debug_drive_bar" title="Drive values">
			<div id="debug_drive_values" class="advanced_view_hidden">
				<p>FPS front <span id="front_camera_framerate">0</span></p>
				<p>FPS rear <span id="rear_camera_framerate">0</span></p>
				<p>inference (Hz) <span id="inference_fps">0</span></p>
				<p>st-mu <span id="inference_surprise">0</span></p>
				<p>st-cri <span id="inference_critic">0</span></p>
				<p>ob-mu <span id="inference_brake_critic">0</span></p>
				<p>ob <span id="inference_obstacle">0</span></p>
				<p>ds <span id="inference_desired_speed">0</span></p>
				<p>bea <span id="navigation_heading">0</span></p>
				<p>dist <span id="navigation_match_image_distance">0</span></p>
				<p>cmd <span id="navigation_current_command">0</span></p>
				<p>dir <span id="navigation_direction">0</span></p>
				<p><span id="debug_screen_dimension"></span></p>
			</div>
		</div>

		<!-- Third Layer: Stream Quality and Options -->
		<div id="horizontal_bar" class="flex-container">
			<!-- Dashboard & Speed Section (Revised Left Section) -->
			<div id="dashboard" class="left_section">
				<div class="stream_quality">
					<p>Stream quality</p>
					<div id="mjpeg_stream_controls">
						<img id="caret_up" src="../static/assets/caret.png" class="caret_img" title="Increase motion jpeg quality" />
						<div id="speed_value">
							<span id="mjpeg_quality_val">0</span>
						</div>
						<img id="caret_down" src="../static/assets/caret.png" class="caret_img" title="Decrease motion jpeg quality" />
					</div>
					<div id="stream_links">
						<a id="video_stream_h264" href="#" title="Display the main camera video-stream">h264</a>
						<a id="video_stream_mjpeg" href="#" title="Display the main camera motion jpeg stream">mjpeg</a>
					</div>
				</div>

				<div class="speed_display">
					<div id="alpha_speed" class="speed_value">
						<div id="alpha_speed_value">0</div>
						<div id="alpha_speed_label">km/h</div>
					</div>
					<div id="beta_speed" class="speed_value">
						<div id="beta_speed_value">0</div>
						<div id="beta_speed_label">km/h</div>
					</div>
				</div>
			</div>

			<!-- Middle Section -->
			<div class="middle_section hidden">
				<!-- Placeholder for future content -->
			</div>

			<!-- Right Section -->
			<div class="right_section">
				<button id="confidence_button_normal_controller">Map recognition</button>
			</div>
		</div>

		<div id="control_bar">
			<div id="overlay_control_container">
				<!-- should be on the top of the preview_container -->
				<img src="../static/assets/expand-collapse-icon-8.jpg" id="expand_camera_icon" title="Expand or collapse the camera overlay" />
			</div>
			<div id="preview_container" title="Show this camera on the main display">
				<img id="mjpeg_camera_preview_image" class="preview_img" />
			</div>
		</div>

		<div class="geo_data hidden">
			<p>lat <span id="navigation_geo_lat">0</span></p>
			<p>lon <span id="navigation_geo_long">0</span></p>
		</div>

		<!-- Fourth Layer: Camera Stream View -->
		<div id="viewport_container">
			<canvas id="viewport_canvas" width="640" height="480"></canvas>
			<div id="overlay_image_container">
				<img id="overlay_image" width="320" height="240" />
				<div id="overlay_center_distance0" class="overlay_distance">1.0</div>
				<div id="overlay_center_distance1" class="overlay_distance">0.5</div>
				<div id="overlay_left_marker0" class="overlay_distance">0.5</div>
				<div id="overlay_left_marker1" class="overlay_distance">0.25</div>
				<div id="overlay_right_marker0" class="overlay_distance">0.5</div>
				<div id="overlay_right_marker1" class="overlay_distance">0.25</div>
			</div>
		</div>

		<!-- JavaScript for Dynamic Elements -->
		<script src="../static/JS/Index/index.js"></script>
		<script src="../static/JS/Index/index_a_utils.js"></script>
		<script src="../static/JS/Index/index_b_gamepad.js"></script>
		<script src="../static/JS/Index/index_c_screen.js"></script>
		<script src="../static/JS/Index/index_d_navigator.js"></script>
		<script src="../static/JS/Index/index_e_teleop.js"></script>
		<script type="module" src="../static/JS/mobileController/mobileController_b_shape_confidence.js"></script>
		<script type="module">
			import { ToggleButtonHandler } from '../static/JS/mobileController/mobileController_b_shape_confidence.js';
			window.addEventListener('load', () => {
				new ToggleButtonHandler('confidence_button_normal_controller');
			});
		</script>
		<script src="../static/JS/Index/index_video_hlp.js"></script>
		<script src="../static/JS/Index/index_video_mjpeg.js"></script>
		<script src="../static/JS/http-live-player.js"></script>
		<script src="../static/JS/performance-polyfill.js"></script>
	</body>
</html>
